<div id="chatsManageModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
  <div class="bg-gradient-to-br from-cyan-100 via-blue-200 to-indigo-300 shadow-2xl rounded w-[18rem] md:w-[30rem] max-h-[80vh] overflow-hidden text-center relative animate-fade-in flex flex-col">

    <div class="flex justify-between items-center px-4 py-3 border-b border-teal-300 bg-gradient-to-r from-blue-200 to-indigo-300 sticky top-0 z-10">
      <h2 class="text-lg font-semibold text-indigo-600">Manage Chats</h2>
      <button onclick="closeManageChatsModal()">
        <i class="fas fa-times text-indigo-600 hover:text-indigo-800 text-xl"></i>
      </button>
    </div>

    <div id="modalManageChatsList" class="flex-1 overflow-y-auto px-4 py-3 space-y-2 text-left">
      {% for chat in chats %}
        <div id="manage-modal-chat-item-{{ chat.id }}" class="p-2 bg-indigo-500 rounded shadow hover:bg-indigo-600 relative group">
          <div class="cursor-pointer font-medium text-gray-800 bg-indigo-300 p-2 rounded" onclick="toggleMeta(this)">
            {{ chat.name }}
            <i class="fas fa-chevron-down transition-transform duration-300"></i>
          </div>
          <div class="chat-meta hidden mt-2 text-sm text-gray-600 bg-indigo-200 p-2 rounded">
            <div><strong>Created at:</strong> {{ chat.created_at|date:"d/m/Y h:i A" }}</div>
            <div><strong>Last updated at:</strong> {{ chat.updated_at|date:"d/m/Y h:i A" }}</div>
            <div><strong>Messages:</strong> {{ chat.messages.all|length }}</div>
            <button onclick="triggerDelete('chat', {{ chat.id }})" class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 hover:text-white mt-2">Delete</button>
          </div>
        </div>
      {% empty %}
        <div class="text-indigo-600 italic text-center">No chats available.</div>
      {% endfor %}
    </div>

  </div>
</div>

<div id="confirmChatDeleteModal" class="fixed inset-0 z-50 hidden bg-black bg-opacity-50 flex justify-center items-center">
  <div class="bg-gradient-to-br from-cyan-100 via-blue-200 to-indigo-300 p-5 rounded-lg shadow-xl text-center w-72">
    <p class="text-gray-800 mb-4">Are you sure you want to delete this?</p>
    <div class="flex justify-center">
      <button onclick="confirmDelete(true)" class="px-6 py-2 me-4 bg-red-500 text-white rounded hover:bg-red-600">Yes</button>
      <button onclick="confirmDelete(false)" class="px-6 py-2 bg-gray-400 text-gray-700 rounded hover:bg-gray-500">No</button>
    </div>
  </div>
</div>