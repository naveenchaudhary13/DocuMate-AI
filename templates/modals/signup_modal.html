{% load socialaccount %}
<div id="signupModal" class="fixed inset-0 z-50 hidden bg-black bg-opacity-50 flex items-center justify-center">
  <div class="bg-gradient-to-br from-cyan-100 via-blue-200 to-indigo-400 p-6 rounded-2xl shadow-xl w-[19rem] md:w-[28rem] relative">
    <button onclick="closeSignupModal()" class="absolute top-3 right-6">
      <i class="fas fa-times text-indigo-600 hover:text-indigo-800 text-2xl"></i>
    </button>

    <h2 class="text-2xl font-semibold mb-4 text-center text-indigo-800">Create Your Account</h2>

    <!-- Google Signup -->
    <div class="flex justify-center mb-4">
      <a href="{% provider_login_url 'google' process='login' %}" class="bg-white text-gray-800 px-4 py-2 rounded-md shadow hover:shadow-md flex items-center gap-2 border border-gray-300 hover:bg-gray-50 transition">
        <i class="fab fa-google text-red-500 text-lg"></i>
        <span>Continue with Google</span>
      </a>
    </div>

    <div class="text-center text-gray-600 text-sm mb-2">or</div>

    <form method="POST" action="{% url 'custom_signup' %}" class="space-y-4">
        {% csrf_token %}
        {% for field in signup_form %}
            <div class="relative">
            <input
                type="{{ field.field.widget.input_type }}"
                name="{{ field.html_name }}"
                id="{{ field.id_for_label }}"
                placeholder="{{ field.label }}"
                class="w-full px-4 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-indigo-400 focus:outline-none"
                {% if field.field.widget.input_type == 'password' %}autocomplete="new-password"{% endif %}
                {% if field.field.widget.input_type == 'email' %}autocomplete="email"{% endif %}
                {% if field.field.widget.input_type == 'password' %}required{% endif %}
            >
            
            {% if field.field.widget.input_type == 'password' %}
                <i class="fas fa-eye absolute right-3 top-1/2 transform -translate-y-1/2 text-indigo-500 cursor-pointer" 
                onclick="togglePassword('{{ field.id_for_label }}', this)">
                </i>
            {% endif %}
            </div>
        {% endfor %}
      <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-md font-medium transition">
        <i class="fas fa-user-plus mr-2"></i>Sign Up
      </button>
    </form>

    <p class="text-center text-sm text-gray-700 mt-4">
      Already have an account?
      <a href="#" onclick="openLoginModal(); closeSignupModal()" class="text-indigo-700 font-medium hover:underline">Log in</a>
    </p>
  </div>
</div>
